package Model;

import java.util.LinkedList;

/**
 * @author ALI AHMAD A ALASMARE 
 *
 */

public class OrderProcessing {
	
	LinkedList<Order> underProcssOrdr ;
	LinkedList<Order> procssedOrdr ;
	private MenuItems menuItems ;

	public OrderProcessing() {
		
	}
	
	public void addOrder(Order order){
		this.underProcssOrdr.add(order);
					}
	
	public void completOrder (Order order){
		this.procssedOrdr.add(this.underProcssOrdr.remove(this.underProcssOrdr.indexOf(order)));
		order.setPreperedFlag(true);
				
	}
	public void setMenuItems (MenuItems m){
		this.menuItems = m;
	}
	/**
	 * @author AHMED A ALJEFERI 
	 *
	 */
	public void readLine (String line){
		String[] record = line.split(",");
		Boolean flag = false;
		for (Order order : this.procssedOrdr){  //Loop in array of orders 
			if (order.id == record[3]){			// if order are in the list
				flag = true;
				Item item = this.menuItems.getItmeByID(record[0]);  //get the order object
				if (order.items.containsKey(item)){			//check if the item in the item list in the order
					Integer count = order.items.get(item);
					count ++;					//Increment the number of the item in the list
					order.items.replace(item, count);				
				
				}
				else {  //add new item to the existing order 
					order.addItem(item, 1);
				}				
			}	
		}
		if (!flag){
			Order ordr = new Order()
			
			
		}
	}

}

